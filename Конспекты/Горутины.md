# Горутины

Горутина - это легковесный поток управляемый рантаймом Go

Код
```
go f(x,y,z)
```
стартует новую горутины запуская функция `f`.

Вычисление функции и ее аргументов происходит в текущей горутине, а выполнение функции в новой.

Горутины запускаются в том же адресном пространстве, таким образом доступ к общедоступной памяти должен быть синхронизирован. Пакет `sync` предоставляет полезные примитивы для этого.

Конструкция `select/case` позволяет ждать завершения операций с каналом.

Как Go выбирает case:
1. Проверяются все case одновременно
2. Если готов только один - выполняется он
3. Если готово несколько - выбирается случайный
4. Если ни один не готов:
- select блокируется
или
- выполняется default, если он есть

Если канал пуст - сразу пойдёт default.

Часто используют для:
- неблокирующей проверки
- polling
- предотвращения deadlock’ов